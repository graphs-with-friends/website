{"version":3,"sources":["webpack:///./src/index.js","webpack:///./src/index.css?7d1f","webpack:///./src/index.css"],"names":["__webpack_require__","r","__webpack_exports__","d3__WEBPACK_IMPORTED_MODULE_1__","width","self","innerWidth","height","innerHeight","MAX_GROUPS","nodeLayout","type","svg","d3","color","rand","max","Math","floor","random","nodes","links","i","push","id","group","forEach","node","index","source","target","addNode","simulation","force","strength","distance","alphaTarget","on","ticked","attr","d","x","y","link","stop","g","append","selectAll","restart","data","exit","transition","remove","enter","call","merge","attrTween","alpha","updateInterval","setInterval","length","clearInterval","arr","linkTo","filter","n","other","Object","values","content","module","options","hmr","transform","insertInto","undefined","locals","exports"],"mappings":"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","file":"app-89b4ff9d65781d806591.js","sourcesContent":["import './index.css'\nimport * as d3 from 'd3'\n\nconst width = self.innerWidth\nconst height = self.innerHeight\n\nconst MAX_GROUPS = 6\n\nconst nodeLayout = {\n  type: 'rect',\n  width: 50,\n  height: 50\n}\n\nconst svg = d3.select('svg#graph')\nconst color = d3.scaleOrdinal(d3.schemePastel1)\n\nfunction rand (max) {\n  return Math.floor(Math.random() * max)\n}\n\nfunction randArrayEntry (arr) {\n  return arr[Math.floor(Math.random() * arr.length)]\n}\n\nconst nodes = []\nconst links = []\n\nfor (let i = 0; i < MAX_GROUPS; i++) {\n  nodes.push({\n    id: `node-${i}`,\n    group: i\n  })\n}\n\nnodes.forEach((node, index) => {\n  let source = nodes[index + 1]\n\n  if (!source) {\n    source = nodes[0]\n  }\n\n  links.push({\n    source: node,\n    target: source\n  })\n})\n\nfor (let i = 0; i < 30; i++) {\n  addNode()\n}\n\nvar simulation = d3.forceSimulation(nodes)\n  .force('charge', d3\n    .forceManyBody()\n    .strength(-50)\n  )\n  .force('link', d3\n    .forceLink()\n    .distance(100)\n    .strength(0.1)\n  )\n  .force('center', d3.forceCenter(width/2, height/2))\n  .alphaTarget(1)\n  .on('tick', ticked)\n  .stop()\n\nvar g = svg.append('g')\nvar link = g.append('g')\n  .attr('stroke', 'rgba(0, 0, 0, 0.5')\n  .attr('stroke-width', 10)\n  .selectAll('.link')\nvar node = g.append('g')\n  .attr('stroke', 'rgba(0, 0, 0, 0.5')\n  .attr('stroke-width', 10)\n  .selectAll('.node')\n\nrestart()\n\nfunction restart() {\n  node = node.data(nodes, d => d.id)\n\n  node.exit().transition()\n    .attr('width', 0)\n    .attr('height', 0)\n    .remove();\n\n  node = node.enter()\n    .append(nodeLayout.type)\n    .attr('width', 10)\n    .attr('height', 10)\n    .attr('x', 10)\n    .attr('y', 10)\n    .attr('fill', d => color(d.group))\n    .call(node => {\n      node.transition()\n        .attr('width', nodeLayout.width)\n        .attr('height', nodeLayout.height)\n    })\n    .merge(node)\n\n  // Apply the general update pattern to the links.\n  link = link.data(links, d => `${d.source.id}-${d.target.id}`)\n\n  // Keep the exiting links connected to the moving remaining nodes.\n  link.exit().transition()\n    .attr('stroke-opacity', 0)\n    .attrTween('x1', d => d.source.x)\n    .attrTween('x2', d => d.target.x)\n    .attrTween('y1', d => d.source.y)\n    .attrTween('y2', d => d.target.y)\n    .remove()\n\n  link = link.enter().append('line')\n    .call(link => {\n      link.transition().attr('stroke-opacity', 1)\n    })\n    .merge(link)\n\n  // Update and restart the simulation.\n  simulation.nodes(nodes)\n  simulation.force('link').links(links)\n  simulation.alpha(1).restart()\n}\n\nfunction ticked () {\n  node\n    .attr('x', d => d.x - nodeLayout.width / 2)\n    .attr('y', d => d.y - nodeLayout.height / 2)\n\n  link\n    .attr('x1', d => d.source.x)\n    .attr('y1', d => d.source.y)\n    .attr('x2', d => d.target.x)\n    .attr('y2', d => d.target.y);\n}\n\nrestart()\n\nconst updateInterval = setInterval(() => {\n  if (nodes.length === 50) {\n    return clearInterval(updateInterval)\n  }\n\n  addNode()\n  restart()\n}, 5000)\n\nfunction addNode () {\n  var node = {\n    id: `node-${nodes.length}`,\n    group: rand(MAX_GROUPS)\n  }\n  nodes.push(node)\n\n  // link to 1-3 other nodes in the same group\n  let numLinks = 2\n  let linkTo = {}\n  const group = nodes\n    .filter(n => n.group === node.group)\n    .filter(n => n.id !== node.id)\n\n  for (let i = 0; i < (rand(numLinks) + 1); i++) {\n    const other = randArrayEntry(group)\n    linkTo[other.id] = other\n  }\n\n  Object.values(linkTo).forEach(target => {\n    links.push({\n      source: node,\n      target\n    })\n  })\n}\n","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!./index.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!./index.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!./index.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"html, body, div, span, applet, object, iframe,\\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\\na, abbr, acronym, address, big, cite, code,\\ndel, dfn, em, img, ins, kbd, q, s, samp,\\nsmall, strike, strong, sub, sup, tt, var,\\nb, u, i, center,\\ndl, dt, dd, ol, ul, li,\\nfieldset, form, label, legend,\\ntable, caption, tbody, tfoot, thead, tr, th, td,\\narticle, aside, canvas, details, embed,\\nfigure, figcaption, footer, header, hgroup,\\nmenu, nav, output, ruby, section, summary,\\ntime, mark, audio, video {\\n\\tmargin: 0;\\n\\tpadding: 0;\\n\\tborder: 0;\\n\\tfont-size: 100%;\\n\\tfont: inherit;\\n  vertical-align: baseline;\\n}\\narticle, aside, details, figcaption, figure,\\nfooter, header, hgroup, menu, nav, section {\\n\\tdisplay: block;\\n}\\nbody {\\n\\tline-height: 1;\\n}\\nol, ul {\\n\\tlist-style: none;\\n}\\nblockquote, q {\\n\\tquotes: none;\\n}\\nblockquote:before, blockquote:after,\\nq:before, q:after {\\n\\tcontent: '';\\n\\tcontent: none;\\n}\\ntable {\\n\\tborder-collapse: collapse;\\n\\tborder-spacing: 0;\\n}\\n\\n\\nbody {\\n  background-image: linear-gradient(to bottom right, #333, #3f4c58);\\n  font-family: Helvetica, Arial, sans-serif;\\n}\\n\\n.links line {\\n  stroke: #999;\\n  stroke-opacity: 0.6;\\n}\\n\\n.nodes circle {\\n  stroke: #fff;\\n  stroke-width: 1.5px;\\n}\\n\\n#intro {\\n  position: absolute;\\n  width: 50vw;\\n  top: 50px;\\n  left: 50%;\\n  margin-left: -25vw;\\n  background: rgba(255, 255, 255, 0.9);\\n  border: 10px solid rgba(0, 0, 0, 0.8);\\n  padding: 0 0 20px 0;\\n  text-align: center;\\n}\\n\\n#intro p {\\n  padding-bottom: 20px;\\n}\\n\", \"\"]);\n"],"sourceRoot":""}