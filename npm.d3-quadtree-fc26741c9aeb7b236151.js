(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{13:function(t,r,i){"use strict";function add_add(t,r,i,e){if(isNaN(r)||isNaN(i))return t;var n,s,h,o,a,u,l,_,f,d=t._root,c={data:e},y=t._x0,x=t._y0,v=t._x1,p=t._y1;if(!d)return t._root=c,t;for(;d.length;)if((u=r>=(s=(y+v)/2))?y=s:v=s,(l=i>=(h=(x+p)/2))?x=h:p=h,n=d,!(d=d[_=l<<1|u]))return n[_]=c,t;if(o=+t._x.call(null,d.data),a=+t._y.call(null,d.data),r===o&&i===a)return c.next=d,n?n[_]=c:t._root=c,t;do{n=n?n[_]=new Array(4):t._root=new Array(4),(u=r>=(s=(y+v)/2))?y=s:v=s,(l=i>=(h=(x+p)/2))?x=h:p=h}while((_=l<<1|u)==(f=(a>=h)<<1|o>=s));return n[f]=d,n[_]=c,t}var e=function(t,r,i,e,n){this.node=t,this.x0=r,this.y0=i,this.x1=e,this.y1=n};function defaultX(t){return t[0]}function defaultY(t){return t[1]}function quadtree(t,r,i){var e=new Quadtree(null==r?defaultX:r,null==i?defaultY:i,NaN,NaN,NaN,NaN);return null==t?e:e.addAll(t)}function Quadtree(t,r,i,e,n,s){this._x=t,this._y=r,this._x0=i,this._y0=e,this._x1=n,this._y1=s,this._root=void 0}function leaf_copy(t){for(var r={data:t.data},i=r;t=t.next;)i=i.next={data:t.data};return r}var n=quadtree.prototype=Quadtree.prototype;n.copy=function(){var t,r,i=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root;if(!e)return i;if(!e.length)return i._root=leaf_copy(e),i;for(t=[{source:e,target:i._root=new Array(4)}];e=t.pop();)for(var n=0;n<4;++n)(r=e.source[n])&&(r.length?t.push({source:r,target:e.target[n]=new Array(4)}):e.target[n]=leaf_copy(r));return i},n.add=function(t){var r=+this._x.call(null,t),i=+this._y.call(null,t);return add_add(this.cover(r,i),r,i,t)},n.addAll=function addAll(t){var r,i,e,n,s=t.length,h=new Array(s),o=new Array(s),a=1/0,u=1/0,l=-1/0,_=-1/0;for(i=0;i<s;++i)isNaN(e=+this._x.call(null,r=t[i]))||isNaN(n=+this._y.call(null,r))||(h[i]=e,o[i]=n,e<a&&(a=e),e>l&&(l=e),n<u&&(u=n),n>_&&(_=n));if(a>l||u>_)return this;for(this.cover(a,u).cover(l,_),i=0;i<s;++i)add_add(this,h[i],o[i],t[i]);return this},n.cover=function(t,r){if(isNaN(t=+t)||isNaN(r=+r))return this;var i=this._x0,e=this._y0,n=this._x1,s=this._y1;if(isNaN(i))n=(i=Math.floor(t))+1,s=(e=Math.floor(r))+1;else{for(var h,o,a=n-i,u=this._root;i>t||t>=n||e>r||r>=s;)switch(o=(r<e)<<1|t<i,(h=new Array(4))[o]=u,u=h,a*=2,o){case 0:n=i+a,s=e+a;break;case 1:i=n-a,s=e+a;break;case 2:n=i+a,e=s-a;break;case 3:i=n-a,e=s-a}this._root&&this._root.length&&(this._root=u)}return this._x0=i,this._y0=e,this._x1=n,this._y1=s,this},n.data=function(){var t=[];return this.visit(function(r){if(!r.length)do{t.push(r.data)}while(r=r.next)}),t},n.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},n.find=function(t,r,i){var n,s,h,o,a,u,l,_=this._x0,f=this._y0,d=this._x1,c=this._y1,y=[],x=this._root;for(x&&y.push(new e(x,_,f,d,c)),null==i?i=1/0:(_=t-i,f=r-i,d=t+i,c=r+i,i*=i);u=y.pop();)if(!(!(x=u.node)||(s=u.x0)>d||(h=u.y0)>c||(o=u.x1)<_||(a=u.y1)<f))if(x.length){var v=(s+o)/2,p=(h+a)/2;y.push(new e(x[3],v,p,o,a),new e(x[2],s,p,v,a),new e(x[1],v,h,o,p),new e(x[0],s,h,v,p)),(l=(r>=p)<<1|t>=v)&&(u=y[y.length-1],y[y.length-1]=y[y.length-1-l],y[y.length-1-l]=u)}else{var w=t-+this._x.call(null,x.data),N=r-+this._y.call(null,x.data),g=w*w+N*N;if(g<i){var A=Math.sqrt(i=g);_=t-A,f=r-A,d=t+A,c=r+A,n=x.data}}return n},n.remove=function(t){if(isNaN(s=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var r,i,e,n,s,h,o,a,u,l,_,f,d=this._root,c=this._x0,y=this._y0,x=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((u=s>=(o=(c+x)/2))?c=o:x=o,(l=h>=(a=(y+v)/2))?y=a:v=a,r=d,!(d=d[_=l<<1|u]))return this;if(!d.length)break;(r[_+1&3]||r[_+2&3]||r[_+3&3])&&(i=r,f=_)}for(;d.data!==t;)if(e=d,!(d=d.next))return this;return(n=d.next)&&delete d.next,e?(n?e.next=n:delete e.next,this):r?(n?r[_]=n:delete r[_],(d=r[0]||r[1]||r[2]||r[3])&&d===(r[3]||r[2]||r[1]||r[0])&&!d.length&&(i?i[f]=d:this._root=d),this):(this._root=n,this)},n.removeAll=function removeAll(t){for(var r=0,i=t.length;r<i;++r)this.remove(t[r]);return this},n.root=function(){return this._root},n.size=function(){var t=0;return this.visit(function(r){if(!r.length)do{++t}while(r=r.next)}),t},n.visit=function(t){var r,i,n,s,h,o,a=[],u=this._root;for(u&&a.push(new e(u,this._x0,this._y0,this._x1,this._y1));r=a.pop();)if(!t(u=r.node,n=r.x0,s=r.y0,h=r.x1,o=r.y1)&&u.length){var l=(n+h)/2,_=(s+o)/2;(i=u[3])&&a.push(new e(i,l,_,h,o)),(i=u[2])&&a.push(new e(i,n,_,l,o)),(i=u[1])&&a.push(new e(i,l,s,h,_)),(i=u[0])&&a.push(new e(i,n,s,l,_))}return this},n.visitAfter=function(t){var r,i=[],n=[];for(this._root&&i.push(new e(this._root,this._x0,this._y0,this._x1,this._y1));r=i.pop();){var s=r.node;if(s.length){var h,o=r.x0,a=r.y0,u=r.x1,l=r.y1,_=(o+u)/2,f=(a+l)/2;(h=s[0])&&i.push(new e(h,o,a,_,f)),(h=s[1])&&i.push(new e(h,_,a,u,f)),(h=s[2])&&i.push(new e(h,o,f,_,l)),(h=s[3])&&i.push(new e(h,_,f,u,l))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this},n.x=function(t){return arguments.length?(this._x=t,this):this._x},n.y=function(t){return arguments.length?(this._y=t,this):this._y},i.d(r,"a",function(){return quadtree})}}]);
//# sourceMappingURL=npm.d3-quadtree-fc26741c9aeb7b236151.js.map